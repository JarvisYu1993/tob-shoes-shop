{"version":3,"sources":["webpack:///./src/components/DelModal.vue","webpack:///./src/components/DelModal.vue?be51","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/backend/Orders.vue","webpack:///./src/components/OrderModal.vue","webpack:///./src/components/OrderModal.vue?658e","webpack:///./src/views/backend/Orders.vue?8982"],"names":["id","ref","class","tabindex","aria-labelledby","aria-hidden","type","data-bs-dismiss","aria-label","product","title","$emit","props","Object","default","data","modal","mounted","this","$refs","keyboard","backdrop","methods","openModal","show","hideModal","hide","render","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error","loading","color","orders","item","key","length","is_paid","$date","create_at","user","email","products","i","qty","unit","total","updatePaid","for","href","openOrderModal","openDelOrderModal","page","pagination","getOrders","order","tempOrder","delOrder","role","name","address","tel","paid_date","$toCurrency","final_total","value","status","emits","inject","watch","isNew","components","orderModal","url","$http","then","response","success","catch","console","log","paid","put","delete","created"],"mappings":"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","file":"js/chunk-9662a754.c6fa7006.js","sourcesContent":["<template>\n  <div\n    id=\"delProductModal\"\n    ref=\"modal\"\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    aria-labelledby=\"delProductModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-danger text-white\">\n          <h5 id=\"delProductModalLabel\" class=\"modal-title\">\n            <span>刪除產品</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          是否刪除 <strong class=\"text-danger\">{{ product.title }}</strong> (刪除後將無法恢復)。\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button type=\"button\" class=\"btn btn-danger\" @click=\"$emit('delete')\">\n            確認刪除\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// eslint-disable-next-line import/extensions\nimport Modal from 'bootstrap/js/dist/modal.js';\n\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default() {\n        return {\n        };\n      },\n    },\n  },\n  data() {\n    return {\n      modal: '',\n    };\n  },\n  mounted() {\n    this.modal = new Modal(this.$refs.modal, {\n      keyboard: false,\n      backdrop: 'static',\n    });\n  },\n  methods: {\n    openModal() {\n      this.modal.show();\n    },\n    hideModal() {\n      this.modal.hide();\n    },\n  },\n};\n</script>\n","import { render } from \"./DelModal.vue?vue&type=template&id=18d99e7f\"\nimport script from \"./DelModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\n  <div class=\"container pt-4\">\n    <pulse-loader :loading=\"loading\" :color=\"color\"></pulse-loader>\n    <table class=\"table mt-4 border-top table-hover\">\n      <thead>\n        <tr>\n          <th>購買時間</th>\n          <th>Email</th>\n          <th>購買款項</th>\n          <th>應付金額</th>\n          <th>是否付款</th>\n          <th>編輯</th>\n        </tr>\n      </thead>\n      <tbody>\n        <template v-for=\"(item, key) in orders\" :key=\"`order${key}`\">\n          <tr class=\"border-top\" v-if=\"orders.length\" :class=\"{ 'text-grizzle': !item.is_paid }\">\n            <td>{{ $date(item.create_at) }}</td>\n            <td>\n              <span>{{ item.user.email }}</span>\n            </td>\n            <td>\n              <ul class=\"list-unstyled\">\n                <li v-for=\"(product, i) in item.products\" :key=\"i\">\n                  {{ product.product.title }} 數量：{{ product.qty }}\n                  {{ product.product.unit }}\n                </li>\n              </ul>\n            </td>\n            <td class=\"text-right\">{{ item.total }}</td>\n            <td>\n              <div class=\"form-check form-switch\">\n                <input\n                  class=\"form-check-input\"\n                  type=\"checkbox\"\n                  :id=\"`paidSwitch${item.id}`\"\n                  v-model=\"item.is_paid\"\n                  @change=\"updatePaid(item)\"\n                />\n                <label class=\"form-check-label\" :for=\"`paidSwitch${item.id}`\">\n                  <span v-if=\"item.is_paid\">已付款</span>\n                  <span v-else>未付款</span>\n                </label>\n              </div>\n            </td>\n            <td>\n              <a\n                href=\"#\"\n                class=\"editBtn me-2\"\n                @click.prevent=\"openOrderModal(item)\"\n                ><span class=\"material-icons\">edit</span></a\n              >\n              <a\n                href=\"#\"\n                class=\"deleteBtn\"\n                @click.prevent=\"openDelOrderModal(item)\"\n                ><span class=\"material-icons\">delete</span></a\n              >\n            </td>\n          </tr>\n        </template>\n      </tbody>\n    </table>\n    <pagination :page=\"pagination\" @get-product=\"getOrders\"></pagination>\n    <orderModal\n      ref=\"orderModal\"\n      :order=\"tempOrder\"\n      @update-paid=\"updatePaid\"\n    ></orderModal>\n    <delOrder ref=\"delOrder\" :product=\"tempOrder\" @delete=\"delOrder\"></delOrder>\n  </div>\n</template>\n\n<script>\nimport pagination from '@/components/Pagination.vue';\nimport orderModal from '@/components/OrderModal.vue';\nimport delOrder from '@/components/DelModal.vue';\n\nexport default {\n  name: 'Orders',\n  data() {\n    return {\n      loading: false,\n      color: '#9DBEC7',\n      orders: {},\n      isNew: false,\n      pagination: {},\n      tempOrder: {},\n    };\n  },\n  components: {\n    pagination,\n    orderModal,\n    delOrder,\n  },\n  methods: {\n    getOrders(page = 1) {\n      this.loading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`;\n      this.$http\n        .get(url)\n        .then((response) => {\n          if (response.data.success) {\n            this.loading = false;\n            this.orders = response.data.orders;\n            this.pagination = response.data.pagination;\n          } else {\n            this.loading = false;\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    openOrderModal(item) {\n      this.tempOrder = { ...item };\n      this.isNew = false;\n      this.$refs.orderModal.openModal();\n    },\n    openDelOrderModal(item) {\n      this.tempOrder = { ...item };\n      this.$refs.delOrder.openModal();\n    },\n    updatePaid(item) {\n      this.loading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`;\n      const paid = {\n        is_paid: item.is_paid,\n      };\n      this.$http\n        .put(url, { data: paid })\n        .then((response) => {\n          if (response.data.success) {\n            this.loading = false;\n            this.$refs.orderModal.hideModal();\n            this.getOrders();\n          } else {\n            this.loading = false;\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    delOrder() {\n      this.loading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`;\n      this.$http\n        .delete(url)\n        .then((response) => {\n          if (response.data.success) {\n            this.loading = false;\n            this.getOrders();\n            this.$refs.delOrder.hideModal();\n          } else {\n            this.loading = false;\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n  created() {\n    this.getOrders();\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"productModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>訂單資訊</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body bg-light p-5\">\n          <div class=\"row\">\n            <div class=\"col-12 rounded shadow bg-white pt-3 mb-3\">\n                <div class=\"d-flex align-items-start\">\n                  <h3 class=\"me-2\">收件人資料</h3>\n                  <span class=\"badge rounded-pill bg-danger\" v-if=\"!tempOrder.is_paid\">未付款</span>\n                  <span class=\"badge rounded-pill bg-success\" v-else>已付款</span>\n                </div>\n              <hr>\n                <div class=\"mb-3\" v-if=\"tempOrder.user\">\n                  <div class=\"d-flex align-items-center mb-2\">\n                    <h4 class=\"font-normal fw-bold me-4\">收件人姓名</h4>\n                    <h5 class=\"font-normal\">{{ tempOrder.user.name }}</h5>\n                  </div>\n                  <div class=\"d-flex align-items-center mb-2\">\n                    <h4 class=\"font-normal fw-bold me-4\">收件人地址</h4>\n                    <h5 class=\"font-normal\">{{ tempOrder.user.address }}</h5>\n                  </div>\n                  <div class=\"d-flex align-items-center  mb-2\">\n                    <h4 class=\"font-normal fw-bold me-4\">收件人 Email</h4>\n                    <h5 class=\"font-normal\">{{ tempOrder.user.email }}</h5>\n                  </div>\n                  <div class=\"d-flex align-items-center  mb-2\">\n                    <h4 class=\"font-normal fw-bold me-4\">收件人電話</h4>\n                    <h5 class=\"font-normal\">{{ tempOrder.user.tel }}</h5>\n                  </div>\n                </div>\n            </div>\n            <div class=\"col-12 rounded shadow bg-white pt-3\">\n              <h3>訂單細節</h3>\n              <table class=\"table\">\n                <tbody>\n                  <tr>\n                    <th>訂單編號</th>\n                    <td>{{ tempOrder.id }}</td>\n                  </tr>\n                  <tr>\n                    <th>下單時間</th>\n                    <td>{{ $date(tempOrder.create_at) }}</td>\n                  </tr>\n                  <tr>\n                    <th>付款時間</th>\n                    <td>\n                      <span v-if=\"tempOrder.paid_date\">\n                        {{ $date(tempOrder.paid_date) }}\n                      </span>\n                      <span v-else>時間不正確</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>付款狀態</th>\n                    <td>\n                      <strong v-if=\"tempOrder.is_paid\" class=\"text-success\"\n                        >已付款</strong\n                      >\n                      <span v-else class=\"text-muted\">尚未付款</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>總金額</th>\n                    <td>\n                      {{ tempOrder.total }}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <h3>購買商品明細</h3>\n              <table class=\"table\">\n                <thead>\n                  <tr>\n                    <th>商品名稱</th>\n                    <th>商品數量/單位</th>\n                    <th>價錢總計</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\n                    <th>\n                      {{ item.product.title }}\n                    </th>\n                    <td>{{ item.qty }} / {{ item.product.unit }}</td>\n                    <td>\n                      {{ $toCurrency(item.final_total) }}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <div class=\"d-flex justify-content-end\">\n                <div class=\"form-check\">\n                  <input\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    value=\"\"\n                    id=\"flexCheckDefault\"\n                    v-model=\"tempOrder.is_paid\"\n                  />\n                  <label class=\"form-check-label\" for=\"flexCheckDefault\">\n                    <span v-if=\"tempOrder.is_paid\">已付款</span>\n                    <span v-else>未付款</span>\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary\"\n            @click=\"$emit('update-paid', tempOrder)\"\n          >\n            修改付款狀態\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  props: {\n    order: {\n      type: Object,\n      default() { return {}; },\n    },\n  },\n  data() {\n    return {\n      status: {},\n      modal: '',\n      tempOrder: {},\n    };\n  },\n  emits: ['update-product'],\n  inject: ['emitter'],\n  watch: {\n    order() {\n      this.tempOrder = this.order;\n    },\n  },\n  methods: {\n    openModal() {\n      this.modal.show();\n    },\n    hideModal() {\n      this.modal.hide();\n    },\n  },\n  mounted() {\n    this.modal = new Modal(this.$refs.modal);\n  },\n};\n</script>\n","import { render } from \"./OrderModal.vue?vue&type=template&id=84fb4d2a\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Orders.vue?vue&type=template&id=63a4c0b0\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}