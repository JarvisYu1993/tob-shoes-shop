{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/components/backend/DelModal.vue","webpack:///./src/components/backend/DelModal.vue?661b","webpack:///./src/views/backend/Orders.vue","webpack:///./src/components/backend/OrderModal.vue","webpack:///./src/components/backend/OrderModal.vue?dad0","webpack:///./src/views/backend/Orders.vue?a0d8"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","id","ref","class","tabindex","aria-labelledby","aria-hidden","type","data-bs-dismiss","aria-label","product","title","$emit","props","Object","default","emit","data","modal","mounted","$refs","keyboard","backdrop","methods","openModal","show","hideModal","hide","render","loading","color","orders","item","key","length","is_paid","$date","create_at","user","email","products","i","qty","unit","$toCurrency","Math","round","total","updatePaid","for","href","openOrderModal","openDelOrderModal","page","pagination","getOrders","order","tempOrder","delOrder","role","name","address","tel","paid_date","final_total","value","status","emits","watch","isNew","components","orderModal","PulseLoader","url","$http","then","response","success","catch","$swal","fire","position","icon","showConfirmButton","timer","paid","put","delete","created"],"mappings":"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","file":"js/chunk-590b9010.b22fcd24.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\n  <div\n    id=\"delProductModal\"\n    ref=\"modal\"\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    aria-labelledby=\"delProductModalLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-danger text-white\">\n          <h5 id=\"delProductModalLabel\" class=\"modal-title\">\n            <span>刪除產品</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          是否刪除 <strong class=\"text-danger\">{{ product.title }}</strong> (刪除後將無法恢復)。\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button type=\"button\" class=\"btn btn-danger\" @click=\"$emit('delete')\">\n            確認刪除\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default() {\n        return {\n        };\n      },\n    },\n  },\n  emit: ['delete'],\n  data() {\n    return {\n      modal: '',\n    };\n  },\n  mounted() {\n    this.modal = new Modal(this.$refs.modal, {\n      keyboard: false,\n      backdrop: 'static',\n    });\n  },\n  methods: {\n    openModal() {\n      this.modal.show();\n    },\n    hideModal() {\n      this.modal.hide();\n    },\n  },\n};\n</script>\n","import { render } from \"./DelModal.vue?vue&type=template&id=2389c398\"\nimport script from \"./DelModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"container pt-4\">\n    <PulseLoader :loading=\"loading\" :color=\"color\"></PulseLoader>\n    <table class=\"table mt-4 border-top table-hover\">\n      <thead>\n        <tr>\n          <th>購買時間</th>\n          <th>Email</th>\n          <th>購買款項</th>\n          <th>應付金額</th>\n          <th>是否付款</th>\n          <th>編輯</th>\n        </tr>\n      </thead>\n      <tbody>\n        <template v-for=\"(item, key) in orders\" :key=\"`order${key}`\">\n          <tr class=\"border-top\" v-if=\"orders.length\" :class=\"{ 'text-grizzle': !item.is_paid }\">\n            <td>{{ $date(item.create_at) }}</td>\n            <td>\n              <span>{{ item.user.email }}</span>\n            </td>\n            <td>\n              <ul class=\"list-unstyled\">\n                <li v-for=\"(product, i) in item.products\" :key=\"i\">\n                  {{ product.product.title }} 數量：{{ product.qty }}\n                  {{ product.product.unit }}\n                </li>\n              </ul>\n            </td>\n            <td class=\"text-right\">{{ $toCurrency(Math.round(item.total)) }}</td>\n            <td>\n              <div class=\"form-check form-switch\">\n                <input\n                  class=\"form-check-input\"\n                  type=\"checkbox\"\n                  :id=\"`paidSwitch${item.id}`\"\n                  v-model=\"item.is_paid\"\n                  @change=\"updatePaid(item)\"\n                />\n                <label class=\"form-check-label\" :for=\"`paidSwitch${item.id}`\">\n                  <span v-if=\"item.is_paid\">已付款</span>\n                  <span v-else>未付款</span>\n                </label>\n              </div>\n            </td>\n            <td>\n              <a\n                href=\"#\"\n                class=\"editBtn me-2\"\n                @click.prevent=\"openOrderModal(item)\"\n                ><span class=\"material-icons\">edit</span></a\n              >\n              <a\n                href=\"#\"\n                class=\"deleteBtn\"\n                @click.prevent=\"openDelOrderModal(item)\"\n                ><span class=\"material-icons\">delete</span></a\n              >\n            </td>\n          </tr>\n        </template>\n      </tbody>\n    </table>\n    <pagination :page=\"pagination\" @get-product=\"getOrders\"></pagination>\n    <orderModal\n      ref=\"orderModal\"\n      :order=\"tempOrder\"\n      @update-paid=\"updatePaid\"\n    ></orderModal>\n    <delOrder ref=\"delOrder\" :product=\"tempOrder\" @delete=\"delOrder\"></delOrder>\n  </div>\n</template>\n\n<script>\nimport pagination from '@/components/backend/Pagination.vue';\nimport orderModal from '@/components/backend/OrderModal.vue';\nimport delOrder from '@/components/backend/DelModal.vue';\nimport PulseLoader from '@/components/PulseLoader.vue';\n\nexport default {\n  name: 'Orders',\n  data() {\n    return {\n      loading: false,\n      color: '#9DBEC7',\n      orders: {},\n      isNew: false,\n      pagination: {},\n      tempOrder: {},\n    };\n  },\n  components: {\n    pagination,\n    orderModal,\n    delOrder,\n    PulseLoader,\n  },\n  methods: {\n    getOrders(page = 1) {\n      this.loading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`;\n      this.$http\n        .get(url)\n        .then((response) => {\n          if (response.data.success) {\n            this.loading = false;\n            this.orders = response.data.orders;\n            this.pagination = response.data.pagination;\n          } else {\n            this.loading = false;\n          }\n        })\n        .catch(() => {\n          this.$swal.fire(\n            {\n              position: 'top',\n              icon: 'error',\n              title: '訂單列表取得失敗',\n              showConfirmButton: false,\n              timer: 1000,\n            },\n          );\n          this.loading = false;\n        });\n    },\n    openOrderModal(item) {\n      this.tempOrder = { ...item };\n      this.isNew = false;\n      this.$refs.orderModal.openModal();\n    },\n    openDelOrderModal(item) {\n      this.tempOrder = { ...item };\n      this.$refs.delOrder.openModal();\n    },\n    updatePaid(item) {\n      this.loading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`;\n      const paid = {\n        is_paid: item.is_paid,\n      };\n      this.$http\n        .put(url, { data: paid })\n        .then((response) => {\n          if (response.data.success) {\n            this.loading = false;\n            this.$refs.orderModal.hideModal();\n            this.getOrders();\n          } else {\n            this.loading = false;\n          }\n        })\n        .catch(() => {\n          this.$swal.fire(\n            {\n              position: 'top',\n              icon: 'error',\n              title: '無法更新付款資訊',\n              showConfirmButton: false,\n              timer: 1000,\n            },\n          );\n          this.loading = false;\n        });\n    },\n    delOrder() {\n      this.loading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${this.tempOrder.id}`;\n      this.$http\n        .delete(url)\n        .then((response) => {\n          if (response.data.success) {\n            this.loading = false;\n            this.getOrders();\n            this.$refs.delOrder.hideModal();\n          } else {\n            this.loading = false;\n          }\n        })\n        .catch(() => {\n          this.$swal.fire(\n            {\n              position: 'top',\n              icon: 'error',\n              title: '無法刪除訂單',\n              showConfirmButton: false,\n              timer: 1000,\n            },\n          );\n          this.loading = false;\n        });\n    },\n  },\n  created() {\n    this.getOrders();\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"productModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>訂單資訊</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body bg-light p-5\">\n          <div class=\"row\">\n            <div class=\"col-12 rounded shadow bg-white pt-3 mb-3\">\n                <div class=\"d-flex align-items-start\">\n                  <h3 class=\"me-2\">收件人資料</h3>\n                  <span class=\"badge rounded-pill bg-danger\" v-if=\"!tempOrder.is_paid\">未付款</span>\n                  <span class=\"badge rounded-pill bg-success\" v-else>已付款</span>\n                </div>\n              <hr>\n                <div class=\"mb-3\" v-if=\"tempOrder.user\">\n                  <div class=\"d-flex align-items-center mb-2\">\n                    <h4 class=\"font-normal fw-bold me-4\">收件人姓名</h4>\n                    <h5 class=\"font-normal\">{{ tempOrder.user.name }}</h5>\n                  </div>\n                  <div class=\"d-flex align-items-center mb-2\">\n                    <h4 class=\"font-normal fw-bold me-4\">收件人地址</h4>\n                    <h5 class=\"font-normal\">{{ tempOrder.user.address }}</h5>\n                  </div>\n                  <div class=\"d-flex align-items-center  mb-2\">\n                    <h4 class=\"font-normal fw-bold me-4\">收件人 Email</h4>\n                    <h5 class=\"font-normal\">{{ tempOrder.user.email }}</h5>\n                  </div>\n                  <div class=\"d-flex align-items-center  mb-2\">\n                    <h4 class=\"font-normal fw-bold me-4\">收件人電話</h4>\n                    <h5 class=\"font-normal\">{{ tempOrder.user.tel }}</h5>\n                  </div>\n                </div>\n            </div>\n            <div class=\"col-12 rounded shadow bg-white pt-3\">\n              <h3>訂單細節</h3>\n              <table class=\"table\">\n                <tbody>\n                  <tr>\n                    <th>訂單編號</th>\n                    <td>{{ tempOrder.id }}</td>\n                  </tr>\n                  <tr>\n                    <th>下單時間</th>\n                    <td>{{ $date(tempOrder.create_at) }}</td>\n                  </tr>\n                  <tr>\n                    <th>付款時間</th>\n                    <td>\n                      <span v-if=\"tempOrder.paid_date\">\n                        {{ $date(tempOrder.paid_date) }}\n                      </span>\n                      <span v-else>時間不正確</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>付款狀態</th>\n                    <td>\n                      <strong v-if=\"tempOrder.is_paid\" class=\"text-success\"\n                        >已付款</strong\n                      >\n                      <span v-else class=\"text-muted\">尚未付款</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>總金額</th>\n                    <td>\n                      {{ $toCurrency(Math.round(tempOrder.total)) }}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <h3>購買商品明細</h3>\n              <table class=\"table\">\n                <thead>\n                  <tr>\n                    <th>商品名稱</th>\n                    <th>商品數量/單位</th>\n                    <th>價錢總計</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\n                    <th>\n                      {{ item.product.title }}\n                    </th>\n                    <td>{{ item.qty }} / {{ item.product.unit }}</td>\n                    <td>\n                      {{ $toCurrency(Math.round(item.final_total)) }}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <div class=\"d-flex justify-content-end\">\n                <div class=\"form-check\">\n                  <input\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    value=\"\"\n                    id=\"flexCheckDefault\"\n                    v-model=\"tempOrder.is_paid\"\n                  />\n                  <label class=\"form-check-label\" for=\"flexCheckDefault\">\n                    <span v-if=\"tempOrder.is_paid\">已付款</span>\n                    <span v-else>未付款</span>\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary\"\n            @click=\"$emit('update-paid', tempOrder)\"\n          >\n            修改付款狀態\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  props: {\n    order: {\n      type: Object,\n      default() { return {}; },\n    },\n  },\n  data() {\n    return {\n      status: {},\n      modal: '',\n      tempOrder: {},\n    };\n  },\n  emits: ['update-paid'],\n  watch: {\n    order() {\n      this.tempOrder = this.order;\n    },\n  },\n  methods: {\n    openModal() {\n      this.modal.show();\n    },\n    hideModal() {\n      this.modal.hide();\n    },\n  },\n  mounted() {\n    this.modal = new Modal(this.$refs.modal);\n  },\n};\n</script>\n","import { render } from \"./OrderModal.vue?vue&type=template&id=3a4bb10a\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Orders.vue?vue&type=template&id=0da88c56\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}