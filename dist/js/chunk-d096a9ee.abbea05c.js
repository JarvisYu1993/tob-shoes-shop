(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d096a9ee"],{"191f":function(e,t,a){"use strict";var n=a("7a23"),r=Object(n["h"])("div",{class:"vld-background",style:{"backdrop-filter":"blur(2px)"}},null,-1),l={class:"vld-icon"};function o(e,t,a,o,c,s){return Object(n["v"])(),Object(n["d"])("div",{class:["is-active is-full-page",{"vld-overlay":a.loading}]},[r,Object(n["M"])(Object(n["h"])("div",l,[Object(n["h"])("div",{class:"v-pulse v-pulse1",style:[c.spinnerStyle,c.spinnerDelay1]},null,4),Object(n["h"])("div",{class:"v-pulse v-pulse2",style:[c.spinnerStyle,c.spinnerDelay2]},null,4),Object(n["h"])("div",{class:"v-pulse v-pulse3",style:[c.spinnerStyle,c.spinnerDelay3]},null,4)],512),[[n["I"],a.loading]])],2)}var c={name:"PulseLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,width:this.size,height:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-pulseStretchDelay",animationDuration:"0.75s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.12s"},spinnerDelay2:{animationDelay:"0.24s"},spinnerDelay3:{animationDelay:"0.36s"}}}};a("a01d");c.render=o;t["a"]=c},"1dde":function(e,t,a){var n=a("d039"),r=a("b622"),l=a("2d00"),o=r("species");e.exports=function(e){return l>=51||!n((function(){var t=[],a=t.constructor={};return a[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},8418:function(e,t,a){"use strict";var n=a("c04e"),r=a("9bf2"),l=a("5c6c");e.exports=function(e,t,a){var o=n(t);o in e?r.f(e,o,l(0,a)):e[o]=a}},"99af":function(e,t,a){"use strict";var n=a("23e7"),r=a("d039"),l=a("e8b5"),o=a("861d"),c=a("7b0b"),s=a("50c4"),i=a("8418"),d=a("65f0"),u=a("1dde"),m=a("b622"),b=a("2d00"),f=m("isConcatSpreadable"),h=9007199254740991,p="Maximum allowed index exceeded",j=b>=51||!r((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),O=u("concat"),g=function(e){if(!o(e))return!1;var t=e[f];return void 0!==t?!!t:l(e)},v=!j||!O;n({target:"Array",proto:!0,forced:v},{concat:function(e){var t,a,n,r,l,o=c(this),u=d(o,0),m=0;for(t=-1,n=arguments.length;t<n;t++)if(l=-1===t?o:arguments[t],g(l)){if(r=s(l.length),m+r>h)throw TypeError(p);for(a=0;a<r;a++,m++)a in l&&i(u,m,l[a])}else{if(m>=h)throw TypeError(p);i(u,m++,l)}return u.length=m,u}})},"9cff":function(e,t,a){"use strict";a.r(t);a("b0c0");var n=a("7a23"),r={class:"container-m py-4 py-md-6"},l={class:"row"},o={class:"col-md-7 order-2 order-md-1"},c={class:"d-flex align-items-center justify-content-between border-bottom pb-3 mb-3"},s=Object(n["h"])("h3",{class:"font-md fw-bold"}," 結帳資訊",-1),i=Object(n["h"])("span",{class:"material-icons"}," chevron_left ",-1),d=Object(n["g"])("繼續購物 "),u={class:"mb-3 d-flex flex-column align-items-start"},m=Object(n["h"])("label",{for:"email",class:"form-label fw-bold"},[Object(n["h"])("span",{class:"text-danger"},"*"),Object(n["g"])(" Email ")],-1),b={class:"mb-3 d-flex flex-column align-items-start"},f=Object(n["h"])("label",{for:"name",class:"form-label fw-bold"},[Object(n["h"])("span",{class:"text-danger"},"*"),Object(n["g"])(" 收件人姓名 ")],-1),h={class:"mb-3 d-flex flex-column align-items-start"},p=Object(n["h"])("label",{for:"tel",class:"form-label fw-bold"},[Object(n["h"])("span",{class:"text-danger"},"*"),Object(n["g"])(" 收件人電話 ")],-1),j={class:"mb-3 d-flex flex-column align-items-start"},O=Object(n["h"])("label",{for:"address",class:"form-label fw-bold"},[Object(n["h"])("span",{class:"text-danger"},"*"),Object(n["g"])(" 收件人地址 ")],-1),g={class:"mb-3 d-flex flex-column align-items-start"},v=Object(n["h"])("label",{for:"payment",class:"form-label fw-bold"},[Object(n["h"])("span",{class:"text-danger"},"*"),Object(n["g"])(" 付款方式 ")],-1),y=Object(n["h"])("option",{disabled:""},"請選擇付款方式",-1),x=Object(n["h"])("option",{value:"ATM轉帳"},"ATM轉帳",-1),w=Object(n["h"])("option",{value:"信用卡"},"信用卡",-1),D=Object(n["h"])("option",{value:"現金付款"},"現金付款",-1),M=Object(n["h"])("option",{value:"ApplePay"},"ApplePay",-1),C=Object(n["h"])("option",{value:"SamsuangPay"},"SamsuangPay",-1),V=Object(n["h"])("option",{value:"GooglePay"},"GooglePay",-1),S=Object(n["h"])("option",{value:"LinePay"},"LinePay",-1),$={class:"mb-3 d-flex flex-column align-items-start"},k=Object(n["h"])("label",{for:"message",class:"form-label fw-bold"},"留言",-1),A={class:"d-flex align-items-center justify-content-between"},P=Object(n["g"])("返回購物車"),T={class:"col-md-5 order-1 order-md-2 mb-4 mb-md-0"},L={class:"border p-2 py-4 p-lg-4"},E=Object(n["h"])("h3",{class:"fw-bold font-md border-bottom pb-3 mb-3"},"訂單明細",-1),_={class:"d-flex align-items-center"},z={class:"p-2"},U={class:"font-md-normal fw-bold"},q={class:"font-md-normal d-flex align-items-center"},B={class:"ms-1"},F={class:"font-md-normal"},N={class:"text-end mb-2 d-flex justify-content-between align-items-center mb-2"},I=Object(n["g"])(" 小計： "),G={class:"text-end mb-2 d-flex justify-content-between align-items-center"},J=Object(n["g"])(" 折扣： "),H={class:"d-flex align-items-center justify-content-between\n              border-top pt-3"},R=Object(n["h"])("span",{class:"font-md-md fw-bold"},"總金額：",-1),K={class:"font-md-md fw-bold"};function Q(e,t,a,Q,W,X){var Y=Object(n["A"])("PulseLoader"),Z=Object(n["A"])("router-link"),ee=Object(n["A"])("Field"),te=Object(n["A"])("ErrorMessage"),ae=Object(n["A"])("Form");return Object(n["v"])(),Object(n["d"])(n["a"],null,[Object(n["h"])(Y,{loading:W.loading,color:W.color},null,8,["loading","color"]),Object(n["h"])("div",r,[Object(n["h"])("div",l,[Object(n["h"])("div",o,[Object(n["h"])("div",c,[s,Object(n["h"])(Z,{to:"/products/所有鞋類",class:"btn btn-outline-primary btn-sm rounded-pill go-product px-3 d-none d-md-flex"},{default:Object(n["L"])((function(){return[i,d]})),_:1})]),Object(n["h"])(ae,{ref:"form",onSubmit:X.createOrder},{default:Object(n["L"])((function(e){var a=e.errors;return[Object(n["h"])("div",u,[m,Object(n["h"])(ee,{id:"email",name:"email",type:"email",class:["form-control",{"is-invalid":a["email"]}],placeholder:"請輸入 Email",rules:"email|required",modelValue:W.form.user.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return W.form.user.email=e}),modelModifiers:{trim:!0}},null,8,["class","modelValue"]),Object(n["h"])(te,{name:"email",class:"invalid-feedback"})]),Object(n["h"])("div",b,[f,Object(n["h"])(ee,{id:"name",name:"姓名",type:"text",class:["form-control",{"is-invalid":a["姓名"]}],placeholder:"請輸入姓名",rules:"required",modelValue:W.form.user.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return W.form.user.name=e}),modelModifiers:{trim:!0}},null,8,["class","modelValue"]),Object(n["h"])(te,{name:"姓名",class:"invalid-feedback"})]),Object(n["h"])("div",h,[p,Object(n["h"])(ee,{id:"tel",name:"電話",type:"text",class:["form-control",{"is-invalid":a["電話"]}],placeholder:"請輸入電話",rules:"required",modelValue:W.form.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return W.form.user.tel=e}),modelModifiers:{trim:!0}},null,8,["class","modelValue"]),Object(n["h"])(te,{name:"電話",class:"invalid-feedback"})]),Object(n["h"])("div",j,[O,Object(n["h"])(ee,{id:"address",name:"地址",type:"text",class:["form-control",{"is-invalid":a["地址"]}],placeholder:"請輸入地址",rules:"required",modelValue:W.form.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return W.form.user.address=e}),modelModifiers:{trim:!0}},null,8,["class","modelValue"]),Object(n["h"])(te,{name:"地址",class:"invalid-feedback"})]),Object(n["h"])("div",g,[v,Object(n["h"])(ee,{id:"payment",name:"付款方式",as:"select",class:["form-control",{"is-invalid":a["付款方式"]}],rules:"required",modelValue:W.form.user.payment,"onUpdate:modelValue":t[5]||(t[5]=function(e){return W.form.user.payment=e}),modelModifiers:{trim:!0}},{default:Object(n["L"])((function(){return[y,x,w,D,M,C,V,S]})),_:2},1032,["class","modelValue"]),Object(n["h"])(te,{name:"付款方式",class:"invalid-feedback"})]),Object(n["h"])("div",$,[k,Object(n["M"])(Object(n["h"])("textarea",{name:"",id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":t[6]||(t[6]=function(e){return W.form.message=e})},null,512),[[n["H"],W.form.message]])]),Object(n["h"])("div",A,[Object(n["h"])(Z,{to:"/cart",class:"btn btn-outline-primary"},{default:Object(n["L"])((function(){return[P]})),_:1}),Object(n["h"])("button",{class:"btn btn-danger",disabled:!X.isErrors},"送出訂單",8,["disabled"])])]})),_:1},8,["onSubmit"])]),Object(n["h"])("div",T,[Object(n["h"])("div",L,[E,(Object(n["v"])(!0),Object(n["d"])(n["a"],null,Object(n["z"])(W.cart.carts,(function(t){return Object(n["v"])(),Object(n["d"])("div",{class:"d-flex align-items-center justify-content-between mb-2",key:t.id},[Object(n["h"])("div",_,[Object(n["h"])("img",{class:"order-img",src:t.product.imageUrl,alt:t.product.title},null,8,["src","alt"]),Object(n["h"])("div",z,[Object(n["h"])("h4",U,Object(n["D"])(t.product.title),1),Object(n["h"])("h5",q,[Object(n["g"])(Object(n["D"])(t.size.size)+" ",1),Object(n["h"])("span",B,"x"+Object(n["D"])(t.qty),1)]),Object(n["h"])("h5",F,Object(n["D"])(t.product.content),1)])]),Object(n["h"])("p",null,"NT$"+Object(n["D"])(e.$toCurrency(t.final_total)),1)])})),128)),Object(n["h"])("p",N,[I,Object(n["h"])("span",null,"NT$"+Object(n["D"])(e.$toCurrency(Math.round(W.cart.total))),1)]),Object(n["h"])("p",G,[J,Object(n["h"])("span",null,"NT$"+Object(n["D"])(e.$toCurrency(Math.round(W.cart.final_total-W.cart.total))),1)]),Object(n["h"])("div",H,[R,Object(n["h"])("span",K," NT$"+Object(n["D"])(e.$toCurrency(Math.round(W.cart.final_total))),1)])])])])])],64)}a("99af");var W=a("191f"),X=a("e4f3"),Y={name:"Cart",data:function(){return{loading:!1,color:"#9DBEC7",id:"",cart:{},form:{user:{name:"",email:"",tel:"",address:"",payment:"ATM轉帳"},message:""}}},components:{PulseLoader:W["a"]},methods:{getCart:function(){var e=this;this.loading=!0;var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("maroon5","/cart");this.$http.get(t).then((function(t){t.data.success&&(e.cart=t.data.data,e.loading=!1)})).catch((function(){e.$swal.fire({position:"top",icon:"error",title:"購物車取得失敗",showConfirmButton:!1,timer:1e3}),e.loading=!1}))},createOrder:function(){var e=this;if(this.cart.carts.length>0){var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("maroon5","/order"),a=this.form;this.$http.post(t,{data:a}).then((function(t){t.data.success&&(e.$refs.form.resetForm(),e.id=t.data.orderId,X["a"].emit("product-cart"),e.$swal.fire({position:"top",icon:"success",title:t.data.message,showConfirmButton:!1,timer:1e3}),e.$router.push("/order/".concat(e.id)))})).catch((function(){e.$swal.fire({position:"top",icon:"error",title:"訂單無法建立",showConfirmButton:!1,timer:1e3})}))}}},computed:{isErrors:function(){return this.form.user.name&&this.form.user.email&&this.form.user.tel&&this.form.user.address&&this.form.user.payment}},mounted:function(){var e=this;X["a"].on("product-cart",(function(){e.getCart()})),this.getCart()},unmounted:function(){var e=this;X["a"].off("product-cart",(function(){return e.getCart()}))}};Y.render=Q;t["default"]=Y},a01d:function(e,t,a){"use strict";a("e007")},b0c0:function(e,t,a){var n=a("83ab"),r=a("9bf2").f,l=Function.prototype,o=l.toString,c=/^\s*function ([^ (]*)/,s="name";n&&!(s in l)&&r(l,s,{configurable:!0,get:function(){try{return o.call(this).match(c)[1]}catch(e){return""}}})},e007:function(e,t,a){},e4f3:function(e,t,a){"use strict";var n=function(e){return{all:e=e||new Map,on:function(t,a){var n=e.get(t);n?n.push(a):e.set(t,[a])},off:function(t,a){var n=e.get(t);n&&(a?n.splice(n.indexOf(a)>>>0,1):e.set(t,[]))},emit:function(t,a){var n=e.get(t);n&&n.slice().map((function(e){e(a)})),(n=e.get("*"))&&n.slice().map((function(e){e(t,a)}))}}},r=n();t["a"]=r}}]);
//# sourceMappingURL=chunk-d096a9ee.abbea05c.js.map